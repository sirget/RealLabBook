@model IEnumerable<RealLabBook.Models.User>

@{
    ViewData["Title"] = "History";
}

<div class="his-wrapper">
    @{
        if (Model.Count() == 0)
        {
            <h3>There is no User</h3>
        }
        else
        {
            <table class="history-table">
                <tr>
                    <th class="equipment">@Html.DisplayNameFor(model => model.email)</th>
                    <th class="status">@Html.DisplayNameFor(model => model.name)</th>
                    <th class="start">@Html.DisplayNameFor(model => model.surname)</th>
                    <th class="start">@Html.DisplayNameFor(model => model.role)</th>
                </tr>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.email)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.surname)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.role)
                        </td>
                        <td>

                            <a style="color: orangered" asp-action="Edit" asp-route-id="@item.id">Edit</a>

                        </td>
                    </tr>
                }
            </table>
        }
    }

</div>
@section JavaScript
{
    <script>
        var input = document.getElementById("text-input");
        var UserID;
        getItemid();
        input.addEventListener("keyup", function (event) {
            if (event.keyCode === 13) {
                event.preventDefault();
                document.getElementById("input-btn").click();
            }
        });

        function getInputValue() {
            var inputVal = document.getElementById("text-input").value;
            document.getElementById('print-text').innerHTML = inputVal;
            window.location.href = "/Bookings/History?UserID=" + inputVal;
        }

        function getItemid() {
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            UserID = urlParams.get("UserID");
            document.getElementById('print-text').innerHTML = UserID;
        }


    </script>
}